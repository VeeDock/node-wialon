<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Node-wialon by nukedzn</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Node-wialon</h1>
        <p>Node.js wrapper for Wialon Remote API</p>

        <p class="view"><a href="https://github.com/nukedzn/node-wialon">View the Project on GitHub <small>nukedzn/node-wialon</small></a></p>


        <ul>
          <li><a href="https://github.com/nukedzn/node-wialon/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/nukedzn/node-wialon/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/nukedzn/node-wialon">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="node-wialon" class="anchor" href="#node-wialon" aria-hidden="true"><span class="octicon octicon-link"></span></a>node-wialon</h1>

<p><a href="https://www.npmjs.com/package/wialon"><img src="https://img.shields.io/npm/v/wialon.svg" alt="npm version"></a>
<a href="https://travis-ci.org/nukedzn/node-wialon"><img src="https://travis-ci.org/nukedzn/node-wialon.svg?branch=master" alt="Build Status"></a>
<a href="https://coveralls.io/r/nukedzn/node-wialon"><img src="https://coveralls.io/repos/nukedzn/node-wialon/badge.svg" alt="Coverage Status"></a>
<a href="https://david-dm.org/nukedzn/node-wialon"><img src="https://david-dm.org/nukedzn/node-wialon.svg" alt="Dependency Status"></a>
<a href="https://david-dm.org/nukedzn/node-wialon#info=devDependencies"><img src="https://david-dm.org/nukedzn/node-wialon/dev-status.svg" alt="devDependency Status"></a></p>

<p>A NodeJS wrapper implementation for <a href="http://sdk.wialon.com/wiki/en/kit/remoteapi/remoteapi">Wialon Remote API</a></p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<div class="highlight highlight-source-shell"><pre>$ npm install --save wialon</pre></div>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<p><strong>Note:</strong> From 1st of October 2015 you will need to use the new token login method. Use <a href="https://hosting.wialon.com/login.html?client_id=node-wialon&amp;access_type=0xfff&amp;activation_time=0&amp;duration=0&amp;lang=en&amp;flags=0x1">this link</a>
to generate an access token.</p>

<p>Initialising a session:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> wialon <span class="pl-k">=</span> <span class="pl-c1">require</span>( <span class="pl-s"><span class="pl-pds">'</span>wialon<span class="pl-pds">'</span></span> );

<span class="pl-c">// using session.start()</span>
<span class="pl-k">var</span> session <span class="pl-k">=</span> wialon().session;
session.<span class="pl-c1">start</span>( { token <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>&lt;access token&gt;<span class="pl-pds">'</span></span> } )
    .then( <span class="pl-k">function</span> ( <span class="pl-smi">data</span> ) {
        <span class="pl-en">console</span>.<span class="pl-c1">log</span>( data );
    } )
    .catch( <span class="pl-k">function</span> ( <span class="pl-smi">err</span> ) {
        <span class="pl-en">console</span>.<span class="pl-c1">log</span>( err );
    } );


<span class="pl-c">// auto-initialise a session by passing in authorization parameters to the factory method</span>
<span class="pl-k">var</span> opts <span class="pl-k">=</span> {
    <span class="pl-c">// authz params</span>
    authz <span class="pl-k">:</span> {
        token <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>&lt;access token&gt;<span class="pl-pds">'</span></span>,
        operateAs <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>username<span class="pl-pds">'</span></span>
    }
};

<span class="pl-k">var</span> session <span class="pl-k">=</span> wialon( opts ).session;</pre></div>

<p>Send API requests using session object:</p>

<div class="highlight highlight-source-js"><pre>session.request( <span class="pl-s"><span class="pl-pds">'</span>core/search_items<span class="pl-pds">'</span></span>, params )
    .then( <span class="pl-k">function</span> ( <span class="pl-smi">data</span> ) {
        <span class="pl-en">console</span>.<span class="pl-c1">log</span>( data );
    } )
    .catch( <span class="pl-k">function</span> ( <span class="pl-smi">err</span> ) {
        <span class="pl-en">console</span>.<span class="pl-c1">log</span>( err );
    } );
</pre></div>

<p>Using search helpers:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-c">// grab a new search instance</span>
<span class="pl-k">var</span> search <span class="pl-k">=</span> wialon( opts ).<span class="pl-c1">search</span>();

<span class="pl-c">// search for units</span>
search.units( <span class="pl-s"><span class="pl-pds">'</span>*<span class="pl-pds">'</span></span> )
    .then( <span class="pl-k">function</span> ( <span class="pl-smi">data</span> ) {
        <span class="pl-en">console</span>.<span class="pl-c1">log</span>( data );
    } )
    .catch( <span class="pl-k">function</span> ( <span class="pl-smi">err</span> ) {
        <span class="pl-en">console</span>.<span class="pl-c1">log</span>( err )
    } );</pre></div>

<h2>
<a id="api-documentation" class="anchor" href="#api-documentation" aria-hidden="true"><span class="octicon octicon-link"></span></a>API Documentation</h2>

<p>JSDoc generated API documentation can be found at <a href="http://nukedzn.github.io/node-wialon/docs/">http://nukedzn.github.io/node-wialon/docs/</a>.</p>

<h2>
<a id="contributing" class="anchor" href="#contributing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contributing</h2>

<p>Contributions are welcome through GitHub pull requests (<a href="https://help.github.com/articles/using-pull-requests/#fork--pull">using fork &amp; pull model</a>).</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/nukedzn">nukedzn</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
